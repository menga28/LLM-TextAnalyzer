<source>
  @type tail
  path /datasets/.json
  pos_file /fluentd/log/test.pos
  tag query.xml.input
  read_from_head true
  <parse>
    @type json
  </parse>
</source>

<filter query.xml.input>
  @type record_transformer
  <record>
    tag ${tag}
    time ${time}
    hostname ${hostname}
  </record>
</filter>

<match query.xml.input>
  @type stdout
  <format>
    @type json
  </format>
</match>
=======
<source>
    @type tail
    path /datasets/test.json
    pos_file /fluentd/log/test_json.pos
    tag json.content
    read_from_head true
  
    <parse>
        @type json
        #keys uuid
        #delimiter ,
        #unmatched_lines true
    </parse>
</source>

<filter json.*> 
    @type record_transformer 
    <record> 
        uuid ${record["xml"]["search"]["items"]["item"][0]["uuid"]} 
    </record> 
</filter>
  
<match json.*> 
    @type stdout
</match>

#<match xml.*> 
#    @type file 
#    path /fluentd/log/output_xml.log 
#    append true
#</match>
>>>>>>> Stashed changes
